(()=>{var e={};e.id=277,e.ids=[277,888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},8030:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>p,default:()=>m,getServerSideProps:()=>h,getStaticPaths:()=>f,getStaticProps:()=>x,reportWebVitals:()=>g,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>b});var a=r(7093),i=r(5244),l=r(1323),n=r(2899),o=r.n(n),c=r(5620),u=r(2820),d=e([u]);u=(d.then?(await d)():d)[0];let m=(0,l.l)(u,"default"),x=(0,l.l)(u,"getStaticProps"),f=(0,l.l)(u,"getStaticPaths"),h=(0,l.l)(u,"getServerSideProps"),p=(0,l.l)(u,"config"),g=(0,l.l)(u,"reportWebVitals"),b=(0,l.l)(u,"unstable_getStaticProps"),P=(0,l.l)(u,"unstable_getStaticPaths"),j=(0,l.l)(u,"unstable_getStaticParams"),v=(0,l.l)(u,"unstable_getServerProps"),S=(0,l.l)(u,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/profile",pathname:"/profile",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:u});s()}catch(e){s(e)}})},8402:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Z:()=>l}),r(6689),r(1163);var a=r(5941),i=e([a]);a=(i.then?(await i)():i)[0];let n=e=>fetch(e).then(e=>e.json());function l({redirectTo:e="",redirectIfFound:t=!1}={}){let{data:r,error:s}=(0,a.default)("/api/auth/me",n);return{user:r?.user,isLoading:!r,error:s}}s()}catch(e){s(e)}})},5620:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(997);r(6764);var a=r(1664),i=r.n(a),l=r(1163);let n=({href:e,iconClass:t,label:r})=>{let a=(0,l.useRouter)().pathname===e;return(0,s.jsxs)(i(),{href:e,className:`flex flex-col items-center hover:text-primary transition-colors p-2 rounded-lg ${a?"text-primary":"text-medium"}`,children:[s.jsx("i",{className:`fas ${t} text-xl`}),s.jsx("span",{className:"text-xs mt-1",children:r})]})};function o(){return(0,s.jsxs)("nav",{className:"fixed-bottom-nav w-full max-w-sm mx-auto bg-white border-t border-gray-200 p-2 flex justify-around items-center",children:[s.jsx(n,{href:"/",iconClass:"fa-home",label:"In\xedcio"}),s.jsx(n,{href:"/search",iconClass:"fa-search",label:"Buscar"}),s.jsx(i(),{href:"/items/new",className:"flex flex-col items-center text-white bg-primary hover:bg-primary-dark transition-colors p-3 rounded-full shadow-lg -mt-6 transform scale-110",children:s.jsx("i",{className:"fas fa-plus text-2xl"})}),s.jsx(n,{href:"/messages",iconClass:"fa-comments",label:"Mensagens"}),s.jsx(n,{href:"/profile",iconClass:"fa-user",label:"Perfil"})]})}function c({children:e}){return(0,s.jsxs)("div",{className:"max-w-sm mx-auto h-screen flex flex-col border border-gray-300 shadow-lg overflow-hidden bg-light",children:[s.jsx("main",{className:"flex-grow overflow-y-auto pb-20",children:e}),s.jsx(o,{})]})}let u=require("next/head");var d=r.n(u);let m=function({Component:e,pageProps:t}){return(e.getLayout||(e=>s.jsx(c,{children:e})))((0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d(),{children:[s.jsx("title",{children:"ReUsa App"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"})]}),s.jsx(e,{...t})]}))}},2820:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>c});var a=r(997),i=r(8402),l=r(1163),n=r.n(l),o=e([i]);function c(){let{user:e,isLoading:t}=(0,i.Z)({redirectTo:"/login"});async function r(e){e.preventDefault(),await fetch("/api/auth/logout"),n().push("/login")}return t||!e?a.jsx("p",{className:"p-4",children:"Carregando..."}):(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("header",{className:"mb-6",children:a.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Meu Perfil"})}),(0,a.jsxs)("div",{className:"text-center mt-2",children:[a.jsx("img",{src:`https://placehold.co/100x100/28a745/white?text=${e.name.charAt(0)}`,alt:"Foto do Perfil",className:"w-24 h-24 rounded-full mx-auto mb-4 border-4 border-primary"}),a.jsx("h2",{className:"text-xl font-semibold",children:e.name}),a.jsx("p",{className:"text-medium",children:e.email}),(0,a.jsxs)("button",{onClick:r,className:"mt-8 w-full text-left py-3 px-4 rounded-lg text-red-500 hover:bg-red-50 transition-colors",children:[a.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Sair"]})]})]})}i=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},6764:()=>{},5244:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},5941:e=>{"use strict";e.exports=import("swr")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[567,424,899],()=>r(8030));module.exports=s})();