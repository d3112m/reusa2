(()=>{var e={};e.id=405,e.ids=[405,888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},4293:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>v,default:()=>g,getServerSideProps:()=>P,getStaticPaths:()=>j,getStaticProps:()=>b,reportWebVitals:()=>S,routeModule:()=>q,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>y});var s={};r.r(s),r.d(s,{default:()=>f,getServerSideProps:()=>p});var a=r(7093),i=r(5244),l=r(1323),n=r(2899),c=r.n(n),o=r(5620),d=r(997),u=r(4439),m=r(1664),x=r.n(m);function h({item:e}){let t={Doação:"bg-accent/20 text-accent-dark",Troca:"bg-secondary/20 text-secondary-dark",Reciclagem:"bg-medium/20 text-medium"};return d.jsx(x(),{href:`/items/${e.id}`,className:"block bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer",children:(0,d.jsxs)("div",{className:"flex space-x-4",children:[d.jsx("img",{src:e.imageUrl||`https://placehold.co/80x80/cccccc/969696?text=${e.category.substring(0,3)}`,alt:e.title,className:"w-20 h-20 rounded-md object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/80x80/cccccc/969696?text=Error"}}),(0,d.jsxs)("div",{className:"flex-grow",children:[d.jsx("h3",{className:"font-semibold text-lg text-dark",children:e.title}),d.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${t[e.type]||t["Doa\xe7\xe3o"]}`,children:e.type}),(0,d.jsxs)("p",{className:"text-sm text-medium mt-1",children:[d.jsx("i",{className:"fas fa-user mr-1"}),e.author.name]})]})]})})}async function p(){return{props:{items:JSON.parse(JSON.stringify(await u.Z.item.findMany({orderBy:{createdAt:"desc"},include:{author:{select:{name:!0}}}})))}}}function f({items:e}){return(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsxs)("header",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-primary",children:"ReUsa"}),d.jsx("p",{className:"text-medium",children:"Itens para doar, trocar ou reciclar na sua comunidade."})]}),(0,d.jsxs)("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-dark",children:"Adicionados Recentemente"}),e.length>0?d.jsx("div",{className:"space-y-4",children:e.map(e=>d.jsx(h,{item:e},e.id))}):d.jsx("p",{className:"text-center text-medium mt-8",children:"Nenhum item anunciado ainda. Seja o primeiro!"})]})]})}let g=(0,l.l)(s,"default"),b=(0,l.l)(s,"getStaticProps"),j=(0,l.l)(s,"getStaticPaths"),P=(0,l.l)(s,"getServerSideProps"),v=(0,l.l)(s,"config"),S=(0,l.l)(s,"reportWebVitals"),y=(0,l.l)(s,"unstable_getStaticProps"),N=(0,l.l)(s,"unstable_getStaticPaths"),w=(0,l.l)(s,"unstable_getStaticParams"),A=(0,l.l)(s,"unstable_getServerProps"),_=(0,l.l)(s,"unstable_getServerSideProps"),q=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:s})},4439:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=new(require("@prisma/client")).PrismaClient},5620:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(997);r(6764);var a=r(1664),i=r.n(a),l=r(1163);let n=({href:e,iconClass:t,label:r})=>{let a=(0,l.useRouter)().pathname===e;return(0,s.jsxs)(i(),{href:e,className:`flex flex-col items-center hover:text-primary transition-colors p-2 rounded-lg ${a?"text-primary":"text-medium"}`,children:[s.jsx("i",{className:`fas ${t} text-xl`}),s.jsx("span",{className:"text-xs mt-1",children:r})]})};function c(){return(0,s.jsxs)("nav",{className:"fixed-bottom-nav w-full max-w-sm mx-auto bg-white border-t border-gray-200 p-2 flex justify-around items-center",children:[s.jsx(n,{href:"/",iconClass:"fa-home",label:"In\xedcio"}),s.jsx(n,{href:"/search",iconClass:"fa-search",label:"Buscar"}),s.jsx(i(),{href:"/items/new",className:"flex flex-col items-center text-white bg-primary hover:bg-primary-dark transition-colors p-3 rounded-full shadow-lg -mt-6 transform scale-110",children:s.jsx("i",{className:"fas fa-plus text-2xl"})}),s.jsx(n,{href:"/messages",iconClass:"fa-comments",label:"Mensagens"}),s.jsx(n,{href:"/profile",iconClass:"fa-user",label:"Perfil"})]})}function o({children:e}){return(0,s.jsxs)("div",{className:"max-w-sm mx-auto h-screen flex flex-col border border-gray-300 shadow-lg overflow-hidden bg-light",children:[s.jsx("main",{className:"flex-grow overflow-y-auto pb-20",children:e}),s.jsx(c,{})]})}let d=require("next/head");var u=r.n(d);let m=function({Component:e,pageProps:t}){return(e.getLayout||(e=>s.jsx(o,{children:e})))((0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u(),{children:[s.jsx("title",{children:"ReUsa App"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"})]}),s.jsx(e,{...t})]}))}},6764:()=>{},5244:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[567,424,899],()=>r(4293));module.exports=s})();