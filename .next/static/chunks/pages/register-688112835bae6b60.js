(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(2581)}])},8402:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(7294),n=r(1163),s=r.n(n),i=r(6976);let l=e=>fetch(e).then(e=>e.json());function o(){let{redirectTo:e="",redirectIfFound:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:r,error:n}=(0,i.ZP)("/api/auth/me",l),o=null==r?void 0:r.user,d=!!r,u=!!o;return(0,a.useEffect)(()=>{e&&d&&(e&&!t&&!u||t&&u)&&s().push(e)},[e,t,d,u]),{user:o,isLoading:!d,error:n}}},2581:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(5893),n=r(7294),s=r(1163),i=r.n(s),l=r(1664),o=r.n(l),d=r(8402);function u(){(0,d.Z)({redirectTo:"/",redirectIfFound:!0});let[e,t]=(0,n.useState)(""),[r,s]=(0,n.useState)(!1);async function l(e){e.preventDefault(),s(!0),t("");let r={name:e.currentTarget.name.value,email:e.currentTarget.email.value,password:e.currentTarget.password.value};try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(201===e.status)i().push("/login");else{let{message:r}=await e.json();t(r)}}catch(e){t("Ocorreu um erro. Tente novamente.")}finally{s(!1)}}return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-primary mb-6",children:"Criar Conta"}),(0,a.jsxs)("form",{onSubmit:l,className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-dark mb-1",children:"Nome"}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-dark mb-1",children:"Email"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-dark mb-1",children:"Senha"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-primary hover:bg-primary-dark text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400",children:r?"Criando...":"Criar Conta"}),e&&(0,a.jsx)("p",{className:"text-red-500 text-center",children:e})]}),(0,a.jsxs)("p",{className:"text-center mt-4 text-sm",children:["J\xe1 tem uma conta?"," ",(0,a.jsx)(o(),{href:"/login",className:"font-semibold text-primary hover:underline",children:"Fa\xe7a Login"})]})]})}}},function(e){e.O(0,[976,888,774,179],function(){return e(e.s=5511)}),_N_E=e.O()}]);